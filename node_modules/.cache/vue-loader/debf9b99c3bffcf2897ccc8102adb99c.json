{"remainingRequest":"D:\\userFiles\\20201230\\managersystem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\userFiles\\20201230\\managersystem\\src\\components\\goods.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\userFiles\\20201230\\managersystem\\src\\components\\goods.vue","mtime":1609764784682},{"path":"D:\\userFiles\\20201230\\managersystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609391769000},{"path":"D:\\userFiles\\20201230\\managersystem\\node_modules\\babel-loader\\lib\\index.js","mtime":1609391769000},{"path":"D:\\userFiles\\20201230\\managersystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609391769000},{"path":"D:\\userFiles\\20201230\\managersystem\\node_modules\\vue-loader\\lib\\index.js","mtime":1609391769000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZ29vZHMiLAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTpbXSwKICAgICBnb29kc1NlbGVjdGlvbjp7CiAgICAgICBxdWVyeToiIiwKICAgICAgIHBhZ2VudW06MSwKICAgICAgIHBhZ2VzaXplOjEwCiAgICAgfSwKICAgICB0b3RhbDowCiAgICB9CiAgfSwKICBmaWx0ZXJzOnsKICAgIGZvcm1hdFRpbWUodmFsKXsKICAgICAgdmFyIGRhdGUgPW5ldyBEYXRlKHZhbCk7CiAgICAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSsiLSIrIGRhdGUuZ2V0TW9udGgoKSsxKyItIisgZGF0ZS5nZXREYXRlKCkrIiAiK2RhdGUuZ2V0SG91cnMoKSsiOiIrZGF0ZS5nZXRNaW51dGVzKCkrIjoiK2RhdGUuZ2V0U2Vjb25kcygpOwogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCl7CiAgICAgIHRoaXMuZ29vZHNTZWxlY3Rpb24ucGFnZXNpemU9dmFsOwogICAgICB0aGlzLmdldEFsbEdvb2RzKCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpewogICAgIAogICAgICB0aGlzLmdvb2RzU2VsZWN0aW9uLnBhZ2VudW09dmFsOwogICAgICB0aGlzLmdldEFsbEdvb2RzKCk7CiAgICB9LAogICAgZ2V0QWxsR29vZHMoKXsKICAgICAgdGhpcy4kcmVxdWVzdC5nZXRHb29kcyh0aGlzLmdvb2RzU2VsZWN0aW9uKS50aGVuKHJlcz0+ewogICAgICAgIAogICAgICAgIGlmKHJlcy5kYXRhLm1ldGEuc3RhdHVzPT0yMDApewogICAgICAgICAgdGhpcy50YWJsZURhdGE9cmVzLmRhdGEuZGF0YS5nb29kczsKICAgICAgICAgIHRoaXMudG90YWw9cmVzLmRhdGEuZGF0YS50b3RhbDsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRHb29kc0J5SWQoKXsKICAgICAgdGhpcy4kcmVxdWVzdC5nZXRHb29kc0J5SWQodGhpcy5nb29kc1NlbGVjdGlvbi5xdWVyeSkudGhlbihyZXM9PnsKICAgICAgICBpZihyZXMuZGF0YS5tZXRhLnN0YXR1cz09MjAwKXsKICAgICAgICAgIHRoaXMudGFibGVEYXRhPVtdOwogICAgICAgICAgdGhpcy50YWJsZURhdGEucHVzaChyZXMuZGF0YS5kYXRhKTsKICAgICAgICAgIHRoaXMudG90YWw9dGhpcy50YWJsZURhdGEubGVuZ3RoOwogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGFibGVEYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUdvb2RzKGluZGV4LHJvdyl7CiAgICAgIGNvbnNvbGUubG9nKHJvdy5nb29kc19pZCk7CiAgICAgIHRoaXMuJHJlcXVlc3QuZGVsZXRlR29vZHMocm93LmlkKS50aGVuKHJlcz0+ewogICAgICAgIGlmKHJlcy5kYXRhLm1ldGEuc3RhdHVzPT0yMDApewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKICAgIHRoaXMuZ2V0QWxsR29vZHMoKTsKICB9Cn07Cg=="},{"version":3,"sources":["goods.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"goods.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"goods\">\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\" class=\"breadcrumb\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n      <el-breadcrumb-item>商品列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-row>\n      <el-col :span=\"12\">\n        <div class=\"grid-content bg-purple\">\n          <el-input\n            placeholder=\"请输入内容\"\n            v-model=\"goodsSelection.query\"\n            class=\"input-with-select\"\n          >\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getGoodsById\"></el-button>\n          </el-input>\n        </div>\n      </el-col>\n      <el-col :span=\"12\"\n        ><div class=\"grid-content bg-purple-light\">\n          <el-button type=\"success\" plain>添加商品</el-button>\n        </div></el-col\n      >\n    </el-row>\n    <el-table :data=\"tableData\" border style=\"width: 100%\">\n         <el-table-column  type=\"index\" label=\"#\" width=\"auto\"> </el-table-column>\n      <el-table-column prop=\"goods_name\" label=\"商品名称\" width=\"auto\"> </el-table-column>\n      <el-table-column prop=\"goods_price\" label=\"商品价格(元)\" width=\"auto\"> </el-table-column>\n      <el-table-column prop=\"goods_weight\" label=\"商品重量\"> </el-table-column>\n       <el-table-column prop=\"add_time\" label=\"创建时间\" width=\"auto\">\n         <template slot-scope=\"scope\">\n           {{scope.row.add_time|formatTime}}\n         </template>\n      </el-table-column>\n        <el-table-column  label=\"操作\" width=\"auto\">  \n          <template slot-scope=\"scope\">\n             <el-button type=\"primary\" icon=\"el-icon-edit\" circle></el-button>  \n             <el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"deleteGoods(scope.$index,scope.row)\" circle></el-button> \n          </template>\n            </el-table-column>\n    </el-table>\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"goodsSelection.pagenum\"\n      :page-sizes=\"[10, 20, 30, 40]\"\n      :page-size=\"goodsSelection.pagesize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"total\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"goods\",\n  data(){\n    return {\n      tableData:[],\n     goodsSelection:{\n       query:\"\",\n       pagenum:1,\n       pagesize:10\n     },\n     total:0\n    }\n  },\n  filters:{\n    formatTime(val){\n      var date =new Date(val);\n     return date.getFullYear()+\"-\"+ date.getMonth()+1+\"-\"+ date.getDate()+\" \"+date.getHours()+\":\"+date.getMinutes()+\":\"+date.getSeconds();\n    }\n  },\n  methods:{\n    handleSizeChange(val){\n      this.goodsSelection.pagesize=val;\n      this.getAllGoods();\n    },\n    handleCurrentChange(val){\n     \n      this.goodsSelection.pagenum=val;\n      this.getAllGoods();\n    },\n    getAllGoods(){\n      this.$request.getGoods(this.goodsSelection).then(res=>{\n        \n        if(res.data.meta.status==200){\n          this.tableData=res.data.data.goods;\n          this.total=res.data.data.total;\n          console.log(res);\n        }\n      });\n    },\n    getGoodsById(){\n      this.$request.getGoodsById(this.goodsSelection.query).then(res=>{\n        if(res.data.meta.status==200){\n          this.tableData=[];\n          this.tableData.push(res.data.data);\n          this.total=this.tableData.length;\n          console.log(res);\n          console.log(this.tableData);\n        }\n      });\n    },\n    deleteGoods(index,row){\n      console.log(row.goods_id);\n      this.$request.deleteGoods(row.id).then(res=>{\n        if(res.data.meta.status==200){\n          console.log(res);\n          this.$message.success(\"删除成功\");\n        }\n      });\n    }\n  },\n  created(){\n    this.getAllGoods();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n#goods {\n  .breadcrumb {\n    height: 30px;\n  }\n}\n</style>"]}]}