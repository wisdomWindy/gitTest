{"remainingRequest":"D:\\userFiles\\20201230\\managersystem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\userFiles\\20201230\\managersystem\\src\\components\\orders.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\userFiles\\20201230\\managersystem\\src\\components\\orders.vue","mtime":1609817020795},{"path":"D:\\userFiles\\20201230\\managersystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609391769000},{"path":"D:\\userFiles\\20201230\\managersystem\\node_modules\\babel-loader\\lib\\index.js","mtime":1609391769000},{"path":"D:\\userFiles\\20201230\\managersystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609391769000},{"path":"D:\\userFiles\\20201230\\managersystem\\node_modules\\vue-loader\\lib\\index.js","mtime":1609391769000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAib3JkZXJzIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgZm9ybUxhYmVsV2lkdGg6IjEyMHB4IiwKICAgICAgdG90YWw6MCwKICAgICAgdmFsdWU6W10sCiAgICAgIG9wdGlvbnM6W10sCiAgICAgIGRpYWxvZ1Zpc2libGU6ZmFsc2UsCiAgICAgIHNlbGVjdERhdGE6IHsKICAgICAgICBwYWdlc2l6ZTogMTAsCiAgICAgICAgcGFnZW51bTogMSwKICAgICAgICBxdWVyeToiIgogICAgICB9LAogICAgICBmb3JtOnsKICAgICAgICBhZGRyZXNzOiIiCgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2codmFsKTsKICAgICAgdGhpcy5zZWxlY3REYXRhLnBhZ2VzaXplPXZhbDsKICAgICAgdGhpcy5nZXRPcmRlcnMoKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZyh2YWwpOwogICAgICB0aGlzLnNlbGVjdERhdGEucGFnZW51bT12YWw7CiAgICAgIHRoaXMuZ2V0T3JkZXJzKCk7CiAgICB9LAogICAgaGFuZGxlRWRpdChpbmRleCxyb3cpewogICAgICBjb25zb2xlLmxvZyhyb3cpOwogICAgICB0aGlzLmlkPXJvdy5vcmRlcl9pZDsKICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlQ29uZmlybSgpewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2UodmFsKXsKICAgICAgY29uc29sZS5sZ28odmFsKTsKICAgIH0sCiAgICBnZXRPcmRlcnMoKSB7CiAgICAgIHRoaXMuJHJlcXVlc3QuZ2V0T3JkZXJzKHRoaXMuc2VsZWN0RGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLm1ldGEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YS5nb29kczsKICAgICAgICAgIHRoaXMudG90YWw9cmVzLmRhdGEuZGF0YS50b3RhbDsKICAgICAgICAgIHRoaXMuc2VsZWN0RGF0YS5wYWdlbnVtPSArcmVzLmRhdGEuZGF0YS5wYWdlbnVtOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLojrflj5borqLljZXmiJDlip8iKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRPcmRlcigpewogICAgICB0aGlzLiRyZXF1ZXN0LmVkaXRPcmRlcigpLnRoZW4ocmVzPT57CiAgICAgICAgaWYocmVzLmRhdGEubWV0YS5zdGF0dXM9PTIwMCl7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q2l0aWVzKCl7CiAgICAgIHRoaXMuJHJlcXVlc3QuZ2V0Q2l0aWVzKCkudGhlbihyZXM9PnsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KQogICAgfQogIH0sCiAgZmlsdGVyczp7CiAgICBmb3JtYXRUaW1lKHZhbCl7CiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWwpOwogICAgICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpKyItIitkYXRlLmdldE1vbnRoKCkrMSsiLSIrZGF0ZS5nZXREYXRlKCkrIiAiK2RhdGUuZ2V0SG91cnMoKSsiOiIrZGF0ZS5nZXRNaW51dGVzKCkrIjoiK2RhdGUuZ2V0U2Vjb25kcygpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0T3JkZXJzKCk7CiAgfSwKfTsK"},{"version":3,"sources":["orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orders.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"orders\">\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\" class=\"breadcrumb\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>订单管理</el-breadcrumb-item>\n      <el-breadcrumb-item>订单列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-table :data=\"tableData\" border style=\"width: 100%\">\n      <el-table-column type=\"index\" label=\"#\" width=\"auto\"> </el-table-column>\n      <el-table-column prop=\"order_number\" label=\"订单编号\" width=\"auto\">\n      </el-table-column>\n      <el-table-column prop=\"order_price\" label=\"订单价格\" width=\"auto\">\n      </el-table-column>\n      <el-table-column label=\"是否付款\" width=\"auto\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"danger\"> {{+scope.row.pay_status?\"已付款\":\"未付款\"}}</el-tag>\n         \n        </template>\n      </el-table-column>\n      <el-table-column prop=\"is_send\" label=\"是否发货\" width=\"auto\"> </el-table-column>\n      <el-table-column label=\"下单时间\" width=\"auto\">\n        <template slot-scope=\"scope\">\n          {{scope.row.create_time|formatTime}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n        <el-button size=\"mini\" icon=\"el-icon-edit\"  type=\"primary\" @click=\"handleEdit(scope.$index, scope.row)\"></el-button>\n      </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog title=\"修改订单地址\" :visible.sync=\"dialogVisible\">\n  <el-form :model=\"form\">\n    <el-form-item label=\"省市区/县\" :label-width=\"formLabelWidth\">\n      <el-cascader\n    v-model=\"value\"\n    :options=\"options\"\n    :props=\"{ expandTrigger: 'hover' }\"\n    @change=\"handleChange\"></el-cascader>\n        </el-form-item>\n    <el-form-item label=\"详细地址\" :label-width=\"formLabelWidth\">\n      <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\n    </el-form-item>\n    \n\n  </el-form>\n  <div slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"dialogVisible = false\">取 消</el-button>\n    <el-button type=\"primary\" @click=\"handleConfirm\">确 定</el-button>\n  </div>\n</el-dialog>\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"selectData.pagenum\"\n      :page-sizes=\"[10, 20, 30, 40]\"\n      :page-size=\"selectData.pagesize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"total\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"orders\",\n  data() {\n    return {\n      tableData: [],\n      formLabelWidth:\"120px\",\n      total:0,\n      value:[],\n      options:[],\n      dialogVisible:false,\n      selectData: {\n        pagesize: 10,\n        pagenum: 1,\n        query:\"\"\n      },\n      form:{\n        address:\"\"\n\n      }\n    };\n  },\n  methods: {\n    handleSizeChange(val) {\n      console.log(val);\n      this.selectData.pagesize=val;\n      this.getOrders();\n    },\n    handleCurrentChange(val) {\n      console.log(val);\n      this.selectData.pagenum=val;\n      this.getOrders();\n    },\n    handleEdit(index,row){\n      console.log(row);\n      this.id=row.order_id;\n       this.dialogVisible = true;\n    },\n    handleConfirm(){\n      this.dialogVisible = false;\n    },\n    handleChange(val){\n      console.lgo(val);\n    },\n    getOrders() {\n      this.$request.getOrders(this.selectData).then((res) => {\n        if (res.data.meta.status == 200) {\n          console.log(res);\n          this.tableData = res.data.data.goods;\n          this.total=res.data.data.total;\n          this.selectData.pagenum= +res.data.data.pagenum;\n          this.$message.success(\"获取订单成功\");\n        }\n      });\n    },\n    editOrder(){\n      this.$request.editOrder().then(res=>{\n        if(res.data.meta.status==200){\n          console.log(res);\n        }\n      });\n    },\n    getCities(){\n      this.$request.getCities().then(res=>{\n        console.log(res);\n      })\n    }\n  },\n  filters:{\n    formatTime(val){\n      const date = new Date(val);\n      return date.getFullYear()+\"-\"+date.getMonth()+1+\"-\"+date.getDate()+\" \"+date.getHours()+\":\"+date.getMinutes()+\":\"+date.getSeconds();\n    }\n  },\n  created() {\n    this.getOrders();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n#orders {\n  .breadcrumb {\n    height: 50px;\n    line-height: 50px;\n  }\n}\n</style>"]}]}